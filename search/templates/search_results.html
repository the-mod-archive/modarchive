{% extends 'base.html' %}

{% block content %}

<h1 class='title'>Search Results</h1>

<ul>
{% for result in search_results %}
    {% if result.type == 'song' %}
        <li>
            <span class="is-size-7 has-text-gray">Song</span>
            <a href="{% url 'view_song' result.item.id %}">{{ result.item.get_title }}</a> by {% for artist in result.item.artist_set.all %}
                {% if not forloop.first %}{% if forloop.last %} and {% else %}, {% endif %}{% endif %}
            <a href="{% url 'view_artist' artist.key %}">{{ artist.name }}</a>
            {% endfor %}
        </li>
    {% elif result.type == 'artist' %}
        <li>
            <span class="is-size-7 has-text-gray">Artist</span>
            <a href="{% url 'view_artist' result.item.key %}">{{ result.item.name }}</a>
        </li>
    {% endif %}
{% endfor %}
</ul>

{% endblock %}